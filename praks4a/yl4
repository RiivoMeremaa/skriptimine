#!/bin/bash
set -euo pipefail

read -rp "Sisesta kataloogi tee, mida varundada: " kataloog

if [ ! -d "$kataloog" ]; then
  echo "Viga: kataloogi '$kataloog' ei leitud."
  exit 1
fi

mkdir -p backup

nimi=$(basename "$kataloog")
failinimi="backup/${nimi}.backup.tar.gz"

echo "Varundan kataloogi: $kataloog"
echo "Varukoopia salvestatakse faili: $failinimi"

tar -czf "$failinimi" -C "$(dirname "$kataloog")" "$nimi"

echo "Varundus edukalt l√µpetatud."
